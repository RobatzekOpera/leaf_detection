<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>LeafDetectionLibrary.lib.c</title>
	<style type="text/css">
/* Stylesheet generated from TextMate theme
 *
 * Mac Classic
 * 
 *
 */

/* Mostly to improve view within the TextMate HTML viewer */
body {
	margin: 0;
	padding: 0;
}

pre.textmate-source {
	margin: 0;
	padding: 0 0 0 2px;
	font-family: "Bitstream Vera Sans Mono", monospace;
	font-size: 13px;
	line-height: 1.3em;
	word-wrap: break-word;
	white-space: pre;
	white-space: pre-wrap;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
}

pre.textmate-source.mac_classic {
	color: #000000;
	background-color: #FFFFFF;
}

pre.textmate-source .linenum {
	width: 75px;
	padding: 0.1em 1em 0.2em 0;
	color: #888;
	background-color: #eee;
}
pre.textmate-source.mac_classic span {
   padding-top: 0.2em;
   padding-bottom: 0.1em;
}
pre.textmate-source.mac_classic ::selection {
	background-color: rgba(77, 151, 255, 0.33);
}
/* Comment */
pre.textmate-source.mac_classic .comment {
	color: #0066FF;
	font-style: italic;
}

/* Keyword */
pre.textmate-source.mac_classic .keyword, pre.textmate-source.mac_classic .storage {
	color: #0000FF;
	font-weight: bold;
}

/* Number */
pre.textmate-source.mac_classic .constant_numeric {
	color: #0000CD;
}

/* User-defined constant */
pre.textmate-source.mac_classic .constant {
	color: #C5060B;
	font-weight: bold;
}

/* Built-in constant */
pre.textmate-source.mac_classic .constant_language {
	color: #585CF6;
	font-weight: bold;
}

/* Variable */
pre.textmate-source.mac_classic .variable_language, pre.textmate-source.mac_classic .variable_other {
	color: #318495;
}

/* String */
pre.textmate-source.mac_classic .string {
	color: #036A07;
}

/* String interpolation */
pre.textmate-source.mac_classic .constant_character_escape, pre.textmate-source.mac_classic .string .source {
	color: #26B31A;
}

/* Preprocessor line */
pre.textmate-source.mac_classic .meta_preprocessor {
	color: #1A921C;
}

/* Preprocessor directive */
pre.textmate-source.mac_classic .keyword_control_import {
	color: #0C450D;
	font-weight: bold;
}

/* Function name */
pre.textmate-source.mac_classic .entity_name_function, pre.textmate-source.mac_classic .support_function_any-method {
	color: #0000A2;
	font-weight: bold;
}

/* Type name */
pre.textmate-source.mac_classic .entity_name_type {
	text-decoration: underline;
}

/* Inherited class name */
pre.textmate-source.mac_classic .entity_other_inherited-class {
	font-style: italic;
}

/* Function parameter */
pre.textmate-source.mac_classic .variable_parameter {
	font-style: italic;
}

/* Function argument and result types */
pre.textmate-source.mac_classic .storage_type_method {
	color: #70727E;
}

/* Section */
pre.textmate-source.mac_classic .meta_section .entity_name_section, pre.textmate-source.mac_classic .declaration_section .entity_name_section {
	font-style: italic;
}

/* Library function */
pre.textmate-source.mac_classic .support_function {
	color: #3C4C72;
	font-weight: bold;
}

/* Library object */
pre.textmate-source.mac_classic .support_class, pre.textmate-source.mac_classic .support_type {
	color: #6D79DE;
	font-weight: bold;
}

/* Library constant */
pre.textmate-source.mac_classic .support_constant {
	color: #06960E;
	font-weight: bold;
}

/* Library variable */
pre.textmate-source.mac_classic .support_variable {
	color: #21439C;
	font-weight: bold;
}

/* JS: Operator */
pre.textmate-source.mac_classic .keyword_operator_js {
	color: #687687;
}

/* Invalid */
pre.textmate-source.mac_classic .invalid {
	color: #FFFFFF;
	background-color: #990000;
}

/* Invalid trailing whitespace */
pre.textmate-source.mac_classic .invalid_deprecated_trailing-whitespace {
	background-color: #FFD0D0;
}

/* Embedded source */
pre.textmate-source.mac_classic .text .source, pre.textmate-source.mac_classic .string_unquoted {
	background-color: rgba(0, 0, 0, 0.05);
}

/* Embedded embedded source */
pre.textmate-source.mac_classic .text .source .string_unquoted, pre.textmate-source.mac_classic .text .source .text .source {
	background-color: rgba(0, 0, 0, 0.06);
}

/* Markup XML declaration */
pre.textmate-source.mac_classic .meta_tag_preprocessor_xml {
	color: #68685B;
}

/* Markup DOCTYPE */
pre.textmate-source.mac_classic .meta_tag_sgml_doctype, pre.textmate-source.mac_classic .meta_tag_sgml_doctype .entity, pre.textmate-source.mac_classic .meta_tag_sgml_doctype .string, pre.textmate-source.mac_classic .meta_tag_preprocessor_xml, pre.textmate-source.mac_classic .meta_tag_preprocessor_xml .entity, pre.textmate-source.mac_classic .meta_tag_preprocessor_xml .string {
	color: #888888;
}

/* Markup DTD */
pre.textmate-source.mac_classic .string_quoted_docinfo_doctype_DTD {
	font-style: italic;
}

/* Markup tag */
pre.textmate-source.mac_classic .meta_tag, pre.textmate-source.mac_classic .declaration_tag {
	color: #1C02FF;
}

/* Markup name of tag */
pre.textmate-source.mac_classic .entity_name_tag {
	font-weight: bold;
}

/* Markup tag attribute */
pre.textmate-source.mac_classic .entity_other_attribute-name {
	font-style: italic;
}

/* Markup: Heading */
pre.textmate-source.mac_classic .markup_heading {
	color: #0C07FF;
	font-weight: bold;
}

/* Markup: Quote */
pre.textmate-source.mac_classic .markup_quote {
	color: #000000;
	font-style: italic;
}

/* Markup: List */
pre.textmate-source.mac_classic .markup_list {
	color: #B90690;
}

h1,h2, p {font-family: Helvetica, sans-serif;
	padding: 20px;
	}

	</style>
</head>
<h1>Leaf Detection Library</h1>
<h2>&copy; Robatzek Group</h2>
<p>The code here is provided under GNU Public License 3. <a href="http://www.gnu.org/licenses/gpl-3.0.html">Read it here</a></p>
<p>For a text version of this code, <a href="LeafDetectionLibrary.lib">click here</a></p>

<body><pre class="textmate-source mac_classic"><span class='linenum'>    1</span> <span class="source source_c"><span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>*************************************************************************
</span><span class='linenum'>    2</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>  Library of Accappella methods for detecting leaf cells
</span><span class='linenum'>    3</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>  //  
</span><span class='linenum'>    4</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> By:
</span><span class='linenum'>    5</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> Olavi Ollikainen - Olavi.Ollikainen@evotec-technologies.com
</span><span class='linenum'>    6</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> Kurt Stuber - stueber@mpiz-koeln.mpg.de
</span><span class='linenum'>    7</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> Sebastian Schaaf - schaaf@mpiz-koeln.mpg.de
</span><span class='linenum'>    8</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> 
</span><span class='linenum'>    9</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> In case of query contact silke.robatzek@tsl.ac.uk
</span><span class='linenum'>   10</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> or dan.maclean@tsl.ac.uk
</span><span class='linenum'>   11</span> 
<span class='linenum'>   12</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>*************************************************************************
</span><span class='linenum'>   13</span> 
<span class='linenum'>   14</span> 
<span class='linenum'>   15</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>controller method that co-ordinates the detection of Leaf Cells. Calls many of the other procs above for function. Works by calculating a line through 
</span><span class='linenum'>   16</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> the bright spots in the image (the cell borders) and uses the skeleton methods to smooth that line. Then uses erosion to fill line out to mask the
</span><span class='linenum'>   17</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> cell border and detects objects as the inside of the thick eroded lines
</span><span class='linenum'>   18</span>  
<span class='linenum'>   19</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">LeafCellsDetection</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>   20</span> image image1 in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input image with intensity information. Leaf cells are detected by this image<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>   21</span> <span class="storage storage_type storage_type_c">bool</span> showillustrations=yes in,
<span class='linenum'>   22</span> ObjectList LeafCells out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>output list of leaf cells<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>   23</span> ObjectList BigLeafCells out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>output list of big leaf cells<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>   24</span> objectlist Lines out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>List of line structure<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>   25</span> )</span>
<span class='linenum'>   26</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>   27</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">thresholdxx</span>(</span><span class="constant constant_numeric constant_numeric_c">4</span>,image=Image1)
<span class='linenum'>   28</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mean</span>(</span>image=image1)
<span class='linenum'>   29</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span>threshold,image=image)
<span class='linenum'>   30</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_bg=mask)
<span class='linenum'>   31</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span>image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>, image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>,<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>   32</span>   
<span class='linenum'>   33</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.type</span>=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>mask<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>   34</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=image,mask=M_bg<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>   35</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_bg2=image)
<span class='linenum'>   36</span>   
<span class='linenum'>   37</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span>image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>, image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>,<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>   38</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.type</span>=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>mask<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>   39</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_blank=image)
<span class='linenum'>   40</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">1</span>, image[image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>-<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">1</span>, image[image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>-<span class="constant constant_numeric constant_numeric_c">2</span>,image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>-<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">1</span>, image[<span class="constant constant_numeric constant_numeric_c">1</span>,image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>-<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>   41</span>   
<span class='linenum'>   42</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>image)
<span class='linenum'>   43</span> 
<span class='linenum'>   44</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>   45</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calczone</span>(</span><span class="constant constant_numeric constant_numeric_c">50</span>)
<span class='linenum'>   46</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">zonemask</span>(</span>-<span class="constant constant_numeric constant_numeric_c">50</span>,oo)
<span class='linenum'>   47</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.zonemask.image</span>,mask=M_bg2)
<span class='linenum'>   48</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>M_bg3,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>   49</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>M_bg3)
<span class='linenum'>   50</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>M_bg3_area&gt;<span class="constant constant_numeric constant_numeric_c">800</span>)
<span class='linenum'>   51</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ErosionDistance=<span class="support support_function support_function_C99 support_function_C99_c">sqrt</span>(image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>*image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>+image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>*image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>))
<span class='linenum'>   52</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>NUmberOfSteps=<span class="support support_function support_function_C99 support_function_C99_c">round</span>(ErosionDistance/<span class="constant constant_numeric constant_numeric_c">3</span>)-<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>   53</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calczone</span>(</span>ErosionDistance,stencil=M_bg2)
<span class='linenum'>   54</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">zonemask</span>(</span>-ErosionDistance)
<span class='linenum'>   55</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcFillStencil_MPIZ</span>(</span>stencilname=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>zonemask<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>   56</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>zonemask=zonemask_filled)
<span class='linenum'>   57</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>zonemask)
<span class='linenum'>   58</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>zonemask_area&gt;<span class="constant constant_numeric constant_numeric_c">10000</span>)
<span class='linenum'>   59</span>   
<span class='linenum'>   60</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>OL_erase=objects)
<span class='linenum'>   61</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Bright_mask</span>(</span>image1,<span class="constant constant_numeric constant_numeric_c">27</span>)
<span class='linenum'>   62</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>M_bright)<span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>, Neighbourhood=25)
</span><span class='linenum'>   63</span>   <span class="keyword keyword_control keyword_control_c">if</span>(stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.itemcount</span>&gt;<span class="constant constant_numeric constant_numeric_c">31999</span>)
<span class='linenum'>   64</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">ReduceStencilObjectsByAreaTo31999_MPIZ</span>(</span>)
<span class='linenum'>   65</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>   66</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>   67</span>   
<span class='linenum'>   68</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>   69</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob1=objects)
<span class='linenum'>   70</span>   
<span class='linenum'>   71</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob00=objects)
<span class='linenum'>   72</span> 
<span class='linenum'>   73</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">FillSmallHoles</span>(</span>)
<span class='linenum'>   74</span>   
<span class='linenum'>   75</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_start=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask.image</span>)
<span class='linenum'>   76</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">maskthinning_temp</span>(</span>objects,image1)
<span class='linenum'>   77</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">maskthinning_temp</span>(</span>objects,image1)
<span class='linenum'>   78</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">maskthinning_temp</span>(</span>objects,image1)
<span class='linenum'>   79</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">maskthinning_temp</span>(</span>objects,image1)
<span class='linenum'>   80</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>skeleton=body)
<span class='linenum'>   81</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonByIntensity</span>(</span>stencil=skeleton, image=image1, IntensityEvaluationMode=<span class="constant constant_numeric constant_numeric_c">2</span>, IntensityEvalParam=-<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>   82</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>skeleton=skeleton_skeleton)
<span class='linenum'>   83</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonByIntensity</span>(</span>stencil=skeleton, image=image1, IntensityEvaluationMode=<span class="constant constant_numeric constant_numeric_c">2</span>, IntensityEvalParam=-<span class="constant constant_numeric constant_numeric_c">2</span>)
<span class='linenum'>   84</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>skeleton_skeleton_byIntensity=skeleton_skeleton)
<span class='linenum'>   85</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeleton</span>(</span>stencil=skeleton_skeleton_byIntensity)
<span class='linenum'>   86</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>skeleton_skeleton=skeleton_skeleton_byIntensity_skeleton)
<span class='linenum'>   87</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>obx=objects)
<span class='linenum'>   88</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_skeleton.mask</span>, neighbourhood=<span class="constant constant_numeric constant_numeric_c">8</span>)
<span class='linenum'>   89</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>   90</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>skeleton_skeleton,body)
<span class='linenum'>   91</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calczone</span>(</span>-<span class="constant constant_numeric constant_numeric_c">40</span>, stencil=obx<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>)
<span class='linenum'>   92</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">zonemask</span>(</span>-<span class="constant constant_numeric constant_numeric_c">40</span>,oo)
<span class='linenum'>   93</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>   94</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&gt;<span class="constant constant_numeric constant_numeric_c">20</span>)
<span class='linenum'>   95</span>   
<span class='linenum'>   96</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_skeleton=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_skeleton.mask.image</span>)
<span class='linenum'>   97</span>   
<span class='linenum'>   98</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>sk=skeleton_skeleton)
<span class='linenum'>   99</span>   <span class="keyword keyword_control keyword_control_c">if</span>(ShowIllustrations)
<span class='linenum'>  100</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  101</span> <span class="punctuation punctuation_whitespace punctuation_whitespace_support punctuation_whitespace_support_function punctuation_whitespace_support_function_leading punctuation_whitespace_support_function_leading_c">  </span><span class="support support_function support_function_C99 support_function_C99_c">div</span>(result,image1, infinity=<span class="constant constant_numeric constant_numeric_c">0</span>, spreadfactor=<span class="constant constant_numeric constant_numeric_c">1000</span>, uncertainty=<span class="constant constant_numeric constant_numeric_c">0</span>, result_type=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Unsigned,short<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  102</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">0.1</span>,image=result)
<span class='linenum'>  103</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_10=mask)
<span class='linenum'>  104</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span>result<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.median</span>, image=result)
<span class='linenum'>  105</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=M_10<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>,mask=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  106</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sk.image</span>,mask=image)
<span class='linenum'>  107</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>sk_thresholded,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  108</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  109</span> 
<span class='linenum'>  110</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">RemoveSkeletonLayer</span>(</span>skeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>sk<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  111</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob3=objects)
<span class='linenum'>  112</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">RemoveSkeletonLayer</span>(</span>skeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>sk_LayerRemoved<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  113</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob4=objects)
<span class='linenum'>  114</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">RemoveSkeletonLayer</span>(</span>skeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>sk_LayerRemoved_LayerRemoved<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  115</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>sk_mod=sk_LayerRemoved_LayerRemoved_LayerRemoved)
<span class='linenum'>  116</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>sk_mod)
<span class='linenum'>  117</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcintensity</span>(</span>sk_mod,image=result)
<span class='linenum'>  118</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob5=objects)
<span class='linenum'>  119</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> The found skeleton is in the list ob5, stencil sk_mod
</span><span class='linenum'>  120</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> End of  Finds Skeleton
</span><span class='linenum'>  121</span>   
<span class='linenum'>  122</span>   
<span class='linenum'>  123</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> Cell detection, creates from skeleton cells borders
</span><span class='linenum'>  124</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sk_mod</span>)
<span class='linenum'>  125</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">FillSmallHoles</span>(</span>)
<span class='linenum'>  126</span> 
<span class='linenum'>  127</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>filled,objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.filled</span>,objects=ob5)
<span class='linenum'>  128</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>filled)
<span class='linenum'>  129</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcattr</span>(</span>RelativeHoleArea,(<span class="constant constant_numeric constant_numeric_c">1.0</span>*filled_area)/(<span class="constant constant_numeric constant_numeric_c">1.0</span>*sk_mod_area))
<span class='linenum'>  130</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>(sk_mod_area&gt;<span class="constant constant_numeric constant_numeric_c">100</span> or sk_mod_intensity&gt;<span class="constant constant_numeric constant_numeric_c">10</span>) and sk_mod_area&gt;<span class="constant constant_numeric constant_numeric_c">30</span>)
<span class='linenum'>  131</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>RelativeHoleArea&lt;<span class="constant constant_numeric constant_numeric_c">0.04</span> or sk_mod_area&gt;<span class="constant constant_numeric constant_numeric_c">100</span>)
<span class='linenum'>  132</span>   
<span class='linenum'>  133</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">3</span>,stencil=sk)
<span class='linenum'>  134</span> 
<span class='linenum'>  135</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcskeleton</span>(</span>sk_mod)
<span class='linenum'>  136</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">RemoveSkeletonLayer</span>(</span>skeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>sk_mod_skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  137</span>   
<span class='linenum'>  138</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>Lines=objects)
<span class='linenum'>  139</span>   <span class="keyword keyword_control keyword_control_c">if</span>(ShowIllustrations)
<span class='linenum'>  140</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  141</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span>image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>,image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>,<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  142</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_blank=image)
<span class='linenum'>  143</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_blank<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.type</span>=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>mask<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  144</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">clearborders</span>(</span>IM_blank,<span class="constant constant_numeric constant_numeric_c">4</span>)
<span class='linenum'>  145</span> 
<span class='linenum'>  146</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">not</span>(</span>image=stencil)
<span class='linenum'>  147</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">clearborders</span>(</span>image,<span class="constant constant_numeric constant_numeric_c">3</span>)
<span class='linenum'>  148</span>   
<span class='linenum'>  149</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=stencil,mask=Lines<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sk_eroded.mask.image</span>)
<span class='linenum'>  150</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_border=image)
<span class='linenum'>  151</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">not</span>(</span>image=image)
<span class='linenum'>  152</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">clearborders</span>(</span>image,<span class="constant constant_numeric constant_numeric_c">3</span>)
<span class='linenum'>  153</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_body=stencil)
<span class='linenum'>  154</span>   
<span class='linenum'>  155</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>M_body)
<span class='linenum'>  156</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  157</span>   
<span class='linenum'>  158</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">5</span>)
<span class='linenum'>  159</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded</span>)
<span class='linenum'>  160</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  161</span>   
<span class='linenum'>  162</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">RemoveSmallObjects</span>(</span>minarea=<span class="constant constant_numeric constant_numeric_c">650</span>)
<span class='linenum'>  163</span>   
<span class='linenum'>  164</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">FillSmallHoles</span>(</span>minimumholearea=<span class="constant constant_numeric constant_numeric_c">400</span>)
<span class='linenum'>  165</span>   <span class="keyword keyword_control keyword_control_c">if</span>(lines<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.count</span>==<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  166</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  167</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&gt;image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>*image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>+<span class="constant constant_numeric constant_numeric_c">10</span>)
<span class='linenum'>  168</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  169</span>     <span class="keyword keyword_control keyword_control_c">if</span>(lines<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.area</span>&gt;<span class="constant constant_numeric constant_numeric_c">200</span>)
<span class='linenum'>  170</span> 
<span class='linenum'>  171</span>       <span class="keyword keyword_control keyword_control_c">if</span>(OL_erase<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.count</span>&gt;<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  172</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>,mask=ol_erase<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.zonemask.mask</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  173</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>body,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  174</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>index,image)
<span class='linenum'>  175</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">calcborder</span>(</span>)
<span class='linenum'>  176</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  177</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&gt;<span class="constant constant_numeric constant_numeric_c">1200</span>)
<span class='linenum'>  178</span>         
<span class='linenum'>  179</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">calcintensity</span>(</span>image=image1)
<span class='linenum'>  180</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.filled.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask.image</span>)
<span class='linenum'>  181</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>filled,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  182</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  183</span>     <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  184</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  185</span>       
<span class='linenum'>  186</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&gt;image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>*image1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>+<span class="constant constant_numeric constant_numeric_c">10</span>)
<span class='linenum'>  187</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  188</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  189</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> keepobjects = objects)
<span class='linenum'>  190</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>body<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.area</span>&lt;<span class="constant constant_numeric constant_numeric_c">40000</span>)
<span class='linenum'>  191</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>body<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.area</span>&gt;<span class="constant constant_numeric constant_numeric_c">800</span>)
<span class='linenum'>  192</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>LeafCells=objects)
<span class='linenum'>  193</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> objects = keepobjects)
<span class='linenum'>  194</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span> body<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.area</span> &gt;=<span class="constant constant_numeric constant_numeric_c">40000</span>)
<span class='linenum'>  195</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>BigLeafCells = objects)
<span class='linenum'>  196</span> }</span></span>
<span class='linenum'>  197</span> 
<span class='linenum'>  198</span> 
<span class='linenum'>  199</span> 
<span class='linenum'>  200</span> 
<span class='linenum'>  201</span> 
<span class='linenum'>  202</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> A method that is involved in the manipulation of the lines skeleton created by the LeafCellsDetection Module, helps 'shave' the line skeleton
</span><span class='linenum'>  203</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">CalcNodesLarge</span><span class="meta meta_parens meta_parens_c">( string SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Stencil in input list,  Nodes are found for this stencil<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, 
<span class='linenum'>  204</span> objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)</span> "Adds to object list a stencil-type attribute LargeNodes"
<span class='linenum'>  205</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  206</span>   <span class="keyword keyword_control keyword_control_c">if</span>(!<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName))
<span class='linenum'>  207</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. Input stencil <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> is not defined. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  208</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  209</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(IfIntervalVector=Objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>.class==<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>intervalvector<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  210</span>     <span class="keyword keyword_control keyword_control_c">if</span>(!IfIntervalVector)
<span class='linenum'>  211</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. The attribute  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> given by the input SkeletonName is not a stencil. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  212</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  213</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  214</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob_in=objects)
<span class='linenum'>  215</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(stencil_temp,objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  216</span> 
<span class='linenum'>  217</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_skeleton=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp.mask.image</span>)
<span class='linenum'>  218</span>   
<span class='linenum'>  219</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span><span class="constant constant_numeric constant_numeric_c">3</span>,<span class="constant constant_numeric constant_numeric_c">3</span>,<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  220</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel0=image)
<span class='linenum'>  221</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel0[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel0[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>,  kernel0[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel0[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  222</span> 
<span class='linenum'>  223</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel1=kernel0)
<span class='linenum'>  224</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel1[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  225</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp.mask</span>, faster=yes, convolutionkernel=kernel1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  226</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  227</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">4</span>,image=image)
<span class='linenum'>  228</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_nodeslarge1=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  229</span>   
<span class='linenum'>  230</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel2=kernel0)
<span class='linenum'>  231</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel2[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  232</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp.mask</span>, faster=yes, convolutionkernel=kernel2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  233</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  234</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">4</span>,image=image)
<span class='linenum'>  235</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_nodeslarge2=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  236</span>   
<span class='linenum'>  237</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel3=kernel0)
<span class='linenum'>  238</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel3[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  239</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp.mask</span>, faster=yes, convolutionkernel=kernel3<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  240</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  241</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">4</span>,image=image)
<span class='linenum'>  242</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_nodeslarge3=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  243</span>   
<span class='linenum'>  244</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel4=kernel0)
<span class='linenum'>  245</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel4[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  246</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp.mask</span>, faster=yes, convolutionkernel=kernel4<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  247</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  248</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">4</span>,image=image)
<span class='linenum'>  249</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_nodeslarge4=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  250</span>   
<span class='linenum'>  251</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=M_nodeslarge1,mask=M_nodeslarge2,data=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  252</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=image,mask=M_nodeslarge3,data=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  253</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=image,mask=M_nodeslarge4,data=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  254</span>   
<span class='linenum'>  255</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcnodes</span>(</span>stencil_temp)
<span class='linenum'>  256</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=image,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp_nodes</span>,data=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  257</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stencil_temp.image</span>, mask=image)
<span class='linenum'>  258</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_LargeNodes,image.vector, objects=ob_in)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  259</span> }</span></span>
<span class='linenum'>  260</span> 
<span class='linenum'>  261</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> A method that is involved in the manipulation of the lines skeleton created by the LeafCellsDetection Module, helps 'shave' the line skeleton by identifying pixels that make up branches from the main line
</span><span class='linenum'>  262</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">CalcSkeletonBranches</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  263</span> string SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Stencil-type attribute on which the  skeleton branches are found.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  264</span> string DeadEndStencil=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>deadend<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Stencil-type attribute, which corresponds to DeadEnd tips<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  265</span> objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list with the stencil-type attribute on which the branches are found. Input list must include also a stencil, which coresponds to dead end tips.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  266</span> objectlist Branches out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Output object list of Branch lines on the skeleton between nodes.  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> 
<span class='linenum'>  267</span> )</span> "Finds skeleton branches between nodes. Outputs object list of skeleton branches"
<span class='linenum'>  268</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  269</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob_in=objects)
<span class='linenum'>  270</span>   <span class="keyword keyword_control keyword_control_c">if</span>(!<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName))
<span class='linenum'>  271</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. Input stencil <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> is not defined. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  272</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  273</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(IfIntervalVector=Objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>.class==<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>intervalvector<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  274</span>     <span class="keyword keyword_control keyword_control_c">if</span>(!IfIntervalVector)
<span class='linenum'>  275</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. The attribute  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> given by the input SkeletonName is not a stencil. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  276</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  277</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  278</span> 
<span class='linenum'>  279</span>   <span class="keyword keyword_control keyword_control_c">if</span>(!<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; DeadEndStencil))
<span class='linenum'>  280</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. Input stencil <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; DeadEndStencil &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> is not defined. Input DeadEndStencil should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  281</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  282</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(IfIntervalVector=Objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; DeadEndStencil &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>.class==<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>intervalvector<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  283</span>     <span class="keyword keyword_control keyword_control_c">if</span>(!IfIntervalVector)
<span class='linenum'>  284</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. The attribute  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; DeadEndStencil &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> given by the input DeadEndStencil is not a stencil. Input DeadEndStencil should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  285</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  286</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  287</span> 
<span class='linenum'>  288</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(skeleton,ob_in.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  289</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(DeadEnd,ob_in.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; DeadEndStencil &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  290</span> 
<span class='linenum'>  291</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcnodeslarge</span>(</span>SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  292</span>   
<span class='linenum'>  293</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolutionmask</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>disk<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  294</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_largenodes.mask.image</span>, mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.mask</span>,faster=yes)
<span class='linenum'>  295</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  296</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  297</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>nodes_surrounding=mask)
<span class='linenum'>  298</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  299</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.mask.image</span>,mask=nodes_surrounding<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  300</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_connections=image)
<span class='linenum'>  301</span>   
<span class='linenum'>  302</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>M_connections, Neighbourhood=<span class="constant constant_numeric constant_numeric_c">8</span>)
<span class='linenum'>  303</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  304</span>   
<span class='linenum'>  305</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>, mask=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.deadend.mask.image</span>)
<span class='linenum'>  306</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>deadend, image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  307</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  308</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>deadend)
<span class='linenum'>  309</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>, mask=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_largenodes</span>, data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  310</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calczone</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>, stencil=image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  311</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">zonemask</span>(</span>-<span class="constant constant_numeric constant_numeric_c">1</span>,oo)
<span class='linenum'>  312</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>Branches=zonemask)
<span class='linenum'>  313</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>Branches)
<span class='linenum'>  314</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Set</span>(</span>Branches=objects)
<span class='linenum'>  315</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>,mask=Branches<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask.image</span>)
<span class='linenum'>  316</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Setattr</span>(</span>Branches,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,objects=ob_in)
<span class='linenum'>  317</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Setattr</span>(</span>Nodes,ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_LargeNodes</span>)
<span class='linenum'>  318</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Setattr</span>(</span>DeadEnd,ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_DeadEnd</span>)
<span class='linenum'>  319</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Setattr</span>(</span>DeadEnd_type1,ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_DeadEnd_type1</span>)
<span class='linenum'>  320</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Setattr</span>(</span>DeadEnd_type2,ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_DeadEnd_type2</span>)
<span class='linenum'>  321</span> }</span></span>
<span class='linenum'>  322</span> 
<span class='linenum'>  323</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> A method that is involved in the manipulation of the lines skeleton created by the LeafCellsDetection Module, helps 'shave' the line skeleton by finding ends
</span><span class='linenum'>  324</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">CalcDeadEndTypes</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  325</span> string SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Stencil-type attribute, which corresponds to skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  326</span> objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>
<span class='linenum'>  327</span> )</span> "Finds the deadend tips in the skeleton"
<span class='linenum'>  328</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  329</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob_in=objects)
<span class='linenum'>  330</span>   <span class="keyword keyword_control keyword_control_c">if</span>(!<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName))
<span class='linenum'>  331</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. Input stencil <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> is not defined. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  332</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  333</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(IfIntervalVector=Objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>.class==<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>intervalvector<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  334</span>     <span class="keyword keyword_control keyword_control_c">if</span>(!IfIntervalVector)
<span class='linenum'>  335</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. The attribute  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> given by the input SkeletonName is not a stencil. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  336</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  337</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  338</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(skeleton,ob_in.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  339</span> 
<span class='linenum'>  340</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_skeleton=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.mask.image</span>)
<span class='linenum'>  341</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">not</span>(</span>image=IM_skeleton)
<span class='linenum'>  342</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_skeleton_not=image)
<span class='linenum'>  343</span> 
<span class='linenum'>  344</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcNodesLarge</span>(</span>SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  345</span>   
<span class='linenum'>  346</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolutionmask</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>ribbon<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="constant constant_numeric constant_numeric_c">1</span>, <span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  347</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ConvolutionKernel_4n=ConvolutionKernel)
<span class='linenum'>  348</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_largenodes.mask.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton</span>, faster=yes)
<span class='linenum'>  349</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  350</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>,image=image)
<span class='linenum'>  351</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_nodes_4n=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  352</span>   
<span class='linenum'>  353</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolutionmask</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>ribbon<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="constant constant_numeric constant_numeric_c">1.5</span>, <span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  354</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ConvolutionKernel_8n=ConvolutionKernel)
<span class='linenum'>  355</span>   
<span class='linenum'>  356</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton</span>, faster=yes)
<span class='linenum'>  357</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  358</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_convolution_8n=image)
<span class='linenum'>  359</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>,image=image)
<span class='linenum'>  360</span>   
<span class='linenum'>  361</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M1=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  362</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">2</span>,image=image)
<span class='linenum'>  363</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M2=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  364</span>   
<span class='linenum'>  365</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=m1,mask=M2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  366</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend0=image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  367</span> 
<span class='linenum'>  368</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_largenodes.mask.image</span>,mask=M_deadend0, faster=yes)
<span class='linenum'>  369</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  370</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>,image=image)
<span class='linenum'>  371</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend_type1=image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  372</span> 
<span class='linenum'>  373</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span><span class="constant constant_numeric constant_numeric_c">3</span>,<span class="constant constant_numeric constant_numeric_c">3</span>,<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  374</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM1=image)
<span class='linenum'>  375</span>   
<span class='linenum'>  376</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=M_nodes_4n<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>, mask=M_deadend0,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  377</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_nodes_4n_mod=image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  378</span>   
<span class='linenum'>  379</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel1=IM1)
<span class='linenum'>  380</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel1[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>,kernel1[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel1[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel1[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  381</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton_not,mask=M_nodes_4n_mod, faster=yes, convolutionkernel=kernel1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  382</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  383</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">5</span>,image=image)
<span class='linenum'>  384</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend1=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  385</span>   
<span class='linenum'>  386</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel2=IM1)
<span class='linenum'>  387</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel2[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>,kernel2[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel2[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel2[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  388</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton_not,mask=M_nodes_4n_mod, faster=yes, convolutionkernel=kernel2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  389</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  390</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">5</span>,image=image)
<span class='linenum'>  391</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend2=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  392</span>   
<span class='linenum'>  393</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel3=IM1)
<span class='linenum'>  394</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel3[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>,kernel3[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel3[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">0</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel3[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  395</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton_not,mask=M_nodes_4n_mod, faster=yes, convolutionkernel=kernel3<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  396</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  397</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">5</span>,image=image)
<span class='linenum'>  398</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend3=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  399</span>   
<span class='linenum'>  400</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel4=IM1)
<span class='linenum'>  401</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>kernel4[<span class="constant constant_numeric constant_numeric_c">0</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>,kernel4[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel4[<span class="constant constant_numeric constant_numeric_c">2</span>,<span class="constant constant_numeric constant_numeric_c">2</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>, kernel4[<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">1</span>]=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  402</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=IM_skeleton_not,mask=M_nodes_4n_mod, faster=yes, convolutionkernel=kernel4<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  403</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.factor</span>=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  404</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">5</span>,image=image)
<span class='linenum'>  405</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend4=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  406</span>   
<span class='linenum'>  407</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=M_deadend1,mask=M_deadend2)
<span class='linenum'>  408</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=image,mask=M_deadend3)
<span class='linenum'>  409</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=image ,mask=M_deadend4)
<span class='linenum'>  410</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=image,mask=M_deadend_type1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  411</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend_type1=image)
<span class='linenum'>  412</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=M_deadend0<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>, mask=M_deadend1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>, data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  413</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend_type2=image)
<span class='linenum'>  414</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=M_deadend_type1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>, mask=M_deadend_type2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  415</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_deadend=image)
<span class='linenum'>  416</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  417</span> 
<span class='linenum'>  418</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_LargeNodes,ob2.skeleton_LargeNodes, objects=ob_in)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  419</span> 
<span class='linenum'>  420</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>, mask=M_deadend<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  421</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd,image.vector)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  422</span>   
<span class='linenum'>  423</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>, mask=M_deadend_type1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  424</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd_type1,image.vector)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  425</span>   
<span class='linenum'>  426</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>, mask=M_deadend_type2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  427</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd_type2,image.vector)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  428</span> }</span></span>
<span class='linenum'>  429</span> 
<span class='linenum'>  430</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> A method that is involved in the manipulation of the lines skeleton created in the LeafCellsDetection Module, removes the line DeadEnd branches
</span><span class='linenum'>  431</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">RemoveSkeletonLayer</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  432</span> string SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Stencil-type attribute, which corresponds to skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  433</span> <span class="storage storage_type storage_type_c">int</span> MinimumArea=<span class="constant constant_numeric constant_numeric_c">10</span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>DeadEnd skeleton branches with area less than the limit are discarded<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  434</span> objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>
<span class='linenum'>  435</span> )</span> "Discards from skeleton the DeadEnd branches with area less than the limit MinimumArea"
<span class='linenum'>  436</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  437</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob_in=objects)
<span class='linenum'>  438</span>   <span class="keyword keyword_control keyword_control_c">if</span>(!<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName))
<span class='linenum'>  439</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. Input stencil <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> is not defined. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  440</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  441</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(IfIntervalVector=Objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>.class==<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>intervalvector<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  442</span>     <span class="keyword keyword_control keyword_control_c">if</span>(!IfIntervalVector)
<span class='linenum'>  443</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. The attribute  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> given by the input SkeletonName is not a stencil. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  444</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  445</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  446</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(skeleton,ob_in.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  447</span> 
<span class='linenum'>  448</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcDeadEndTypes</span>(</span>SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  449</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_DeadEnd_type1.mask</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  450</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>skeleton_mod,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  451</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  452</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonBranches</span>(</span>SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton_mod<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, deadendstencil=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton_DeadEnd_type2<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  453</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">ObjectFilter</span>(</span>MinimumArea&gt;Branches_area and deadend_area&gt;<span class="constant constant_numeric constant_numeric_c">0</span>, objects=Branches)
<span class='linenum'>  454</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_mod.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.Branches.mask</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  455</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>BranchesRemoved=objects)
<span class='linenum'>  456</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>skeleton_LayerRemoved,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>, objects=ob2)
<span class='linenum'>  457</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=ob_in<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>, mask=BranchesRemoved<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.Branches.mask.image</span>)
<span class='linenum'>  458</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>skeleton_RemovedBranches,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  459</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob3=objects)
<span class='linenum'>  460</span>   
<span class='linenum'>  461</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_LargeNodes,ob3.skeleton_LargeNodes, objects=ob_in)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  462</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd, ob3.skeleton_DeadEnd)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  463</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd_type1, ob3.skeleton_DeadEnd_type1)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  464</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd_type2, ob3.skeleton_DeadEnd_type2)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  465</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_LayerRemoved,  ob3.skeleton_LayerRemoved)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  466</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_RemovedBranches,  ob3.skeleton_RemovedBranches)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  467</span> }</span></span>
<span class='linenum'>  468</span> 
<span class='linenum'>  469</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> A method that is involved in the manipulation of the lines skeleton created by the LeafCellsDetection Module, finds the branches on the skeleton
</span><span class='linenum'>  470</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">SkeletonBranchesNodes</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  471</span> string SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Stencil-type attribute, which corresponds to skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  472</span> objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  473</span> objectlist Branches out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Output object list of skeleton branches<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  474</span> objectlist Nodes out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Output object list of nodes<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>
<span class='linenum'>  475</span> 
<span class='linenum'>  476</span> )</span> "Finds Brances and Nodes of skeleton. Outputs object lists of the found Branches and Nodes. In addition adds to the input list attributes branches and nodes."
<span class='linenum'>  477</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  478</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob_in=objects)
<span class='linenum'>  479</span>   <span class="keyword keyword_control keyword_control_c">if</span>(!<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName))
<span class='linenum'>  480</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. Input stencil <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> is not defined. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  481</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  482</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(IfIntervalVector=Objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>.class==<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>intervalvector<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  483</span>     <span class="keyword keyword_control keyword_control_c">if</span>(!IfIntervalVector)
<span class='linenum'>  484</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Error. The attribute  <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> given by the input SkeletonName is not a stencil. Input SkeletonName should correspond to the existing stencil-type attribute in the input object list.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  485</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  486</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  487</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(skeleton,ob_in.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  488</span> 
<span class='linenum'>  489</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcDeadEndTypes</span>(</span>SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  490</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton_DeadEnd_type1.mask</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  491</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>skeleton_mod,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  492</span>   
<span class='linenum'>  493</span> 
<span class='linenum'>  494</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  495</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonBranches</span>(</span>SkeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton_mod<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, deadendstencil=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton_DeadEnd_type2<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  496</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  497</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.nodes</span>)
<span class='linenum'>  498</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  499</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>Nodes=objects)
<span class='linenum'>  500</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_Nodes,ob2.Nodes, objects=ob_in)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  501</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_Branches,ob2.Branches)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  502</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd,ob2.DeadEnd)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  503</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd_type1,ob2.DeadEnd_type1)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  504</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; SkeletonName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_DeadEnd_type2,ob2.DeadEnd_type2)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  505</span> }</span></span>
<span class='linenum'>  506</span> 
<span class='linenum'>  507</span> 
<span class='linenum'>  508</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>Closes the objects by filling small holes
</span><span class='linenum'>  509</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">FillSmallHoles</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  510</span> <span class="storage storage_type storage_type_c">int</span> minimumholearea=<span class="constant constant_numeric constant_numeric_c">20</span> in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Minimum area for holes. Holes with area less than the limit are filled<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  511</span> objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list. Attributes in the input list are lost.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>
<span class='linenum'>  512</span> )</span> "Fills small holes in objects. Holes with area less than the limit MinimumHoleArea are filled."
<span class='linenum'>  513</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  514</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob_in=objects)
<span class='linenum'>  515</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">fillobjects</span>(</span>)
<span class='linenum'>  516</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob01=objects)
<span class='linenum'>  517</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=ob01<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>,mask=ob_in<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  518</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2mask</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  519</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>)
<span class='linenum'>  520</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  521</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  522</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>minimumholearea&lt;=area)
<span class='linenum'>  523</span>   
<span class='linenum'>  524</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=ob01<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  525</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  526</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">xor</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>,mask=ob_in<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask.image</span>)
<span class='linenum'>  527</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>filled, image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  528</span> }</span></span> 
<span class='linenum'>  529</span> 
<span class='linenum'>  530</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>Finds image sub-regions, ie enclosed objects
</span><span class='linenum'>  531</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">ImageSubRegions</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  532</span> <span class="storage storage_type storage_type_c">int</span> ImageWidth in,
<span class='linenum'>  533</span> <span class="storage storage_type storage_type_c">int</span> ImageHeight in,
<span class='linenum'>  534</span> <span class="storage storage_type storage_type_c">int</span> NumberOfLinearDivision in,
<span class='linenum'>  535</span> objectList objects out
<span class='linenum'>  536</span> )</span>
<span class='linenum'>  537</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  538</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>w0=<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">int</span>(</span>(<span class="constant constant_numeric constant_numeric_c">1.0</span>*ImageWidth)/(<span class="constant constant_numeric constant_numeric_c">2.0</span>*NumberOfLinearDivision)))
<span class='linenum'>  539</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>h0=<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">int</span>(</span>(<span class="constant constant_numeric constant_numeric_c">1.0</span>*ImageHeight)/(<span class="constant constant_numeric constant_numeric_c">2.0</span>*NumberOfLinearDivision)))
<span class='linenum'>  540</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>w1=<span class="constant constant_numeric constant_numeric_c">2</span>*w0, h1=<span class="constant constant_numeric constant_numeric_c">2</span>*h0)
<span class='linenum'>  541</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span>ImageWidth, ImageHeight)
<span class='linenum'>  542</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.type</span>=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>mask<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  543</span> 
<span class='linenum'>  544</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span><span class="constant constant_numeric constant_numeric_c">0</span>.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.NumberOfLinearDivision</span>-<span class="constant constant_numeric constant_numeric_c">1</span> )
<span class='linenum'>  545</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span><span class="constant constant_numeric constant_numeric_c">0</span>.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.NumberOfLinearDivision</span>-<span class="constant constant_numeric constant_numeric_c">1</span>,<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>j<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  546</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image[w0+i*w1, h0+j*h1]=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  547</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  548</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  549</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>image)
<span class='linenum'>  550</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  551</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>eros_dist=w0+h0)
<span class='linenum'>  552</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-eros_dist)
<span class='linenum'>  553</span> }</span></span> 
<span class='linenum'>  554</span> 
<span class='linenum'>  555</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>Data transformation method, turns datacube for intenstity to image 
</span><span class='linenum'>  556</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">DataCubeProjectionCorrection</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  557</span> <span class="storage storage_type storage_type_c">int</span> FirstZPlane in,
<span class='linenum'>  558</span> <span class="storage storage_type storage_type_c">int</span> LastZPlane in,
<span class='linenum'>  559</span> datacube datacube inout,
<span class='linenum'>  560</span> image IM_planeNumber out,
<span class='linenum'>  561</span> image PlaneNUmberImage out
<span class='linenum'>  562</span> )</span> [hidden]
<span class='linenum'>  563</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  564</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>//// Projects maximum intensity for each x-y position from datacube to image
</span><span class='linenum'>  565</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Maximums3D</span>(</span><span class="constant constant_numeric constant_numeric_c">0</span>,image=datacube)
<span class='linenum'>  566</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">StencilFrom3DTo2D</span>(</span>stencil=maximums,datacube=datacube) <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>Projects the found maximums from 3-dim to plane
</span><span class='linenum'>  567</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_plane=PlaneNumberImage)
<span class='linenum'>  568</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>delete(datacube) 
</span><span class='linenum'>  569</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolutionmask</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>ribbon<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="constant constant_numeric constant_numeric_c">7.9</span>,<span class="constant constant_numeric constant_numeric_c">7</span>)
<span class='linenum'>  570</span> 
<span class='linenum'>  571</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convolution</span>(</span>image=valueimage)
<span class='linenum'>  572</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">minus</span>(</span>valueimage,image,neg_method=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>zero<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, result_type=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>unsigned,short<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  573</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>r4=result)
<span class='linenum'>  574</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>, image=result,userealvalues=no)
<span class='linenum'>  575</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_bright2=mask)
<span class='linenum'>  576</span> 
<span class='linenum'>  577</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span>result<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.mean</span>, image=r4)
<span class='linenum'>  578</span> 
<span class='linenum'>  579</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=M_bright2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>, mask=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>)
<span class='linenum'>  580</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>M_bright3=image)
<span class='linenum'>  581</span> 
<span class='linenum'>  582</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>M_bright3)
<span class='linenum'>  583</span>   <span class="keyword keyword_control keyword_control_c">if</span>(stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.itemcount</span>&gt;<span class="constant constant_numeric constant_numeric_c">31999</span>)
<span class='linenum'>  584</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">ReduceStencilObjectsByAreaTo_MPIZ</span>(</span>)
<span class='linenum'>  585</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  586</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  587</span> 
<span class='linenum'>  588</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonByIntensity</span>(</span>image=r4)
<span class='linenum'>  589</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonByIntensity</span>(</span>skeleton, image=r4, IntensityEvalParam=-<span class="constant constant_numeric constant_numeric_c">10</span>)
<span class='linenum'>  590</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonByIntensity</span>(</span>skeleton_skeleton, image=r4, IntensityEvaluationMode=<span class="constant constant_numeric constant_numeric_c">2</span>, IntensityEvalParam=-<span class="constant constant_numeric constant_numeric_c">4</span>)
<span class='linenum'>  591</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeletonByIntensity</span>(</span>skeleton_skeleton_skeleton, image=r4, IntensityEvaluationMode=<span class="constant constant_numeric constant_numeric_c">2</span>, IntensityEvalParam=-<span class="constant constant_numeric constant_numeric_c">20</span>)
<span class='linenum'>  592</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcSkeleton</span>(</span>skeleton_skeleton_skeleton_skeleton)
<span class='linenum'>  593</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">RenameAttr</span>(</span>Skeleton=skeleton_skeleton_skeleton_skeleton)
<span class='linenum'>  594</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcArea</span>(</span>Skeleton)
<span class='linenum'>  595</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>Skeleton=objects)
<span class='linenum'>  596</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">ObjectFilter</span>(</span>Skeleton_area&gt;<span class="constant constant_numeric constant_numeric_c">10</span>)
<span class='linenum'>  597</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">SkeletonBranchesNodes</span>(</span>skeletonName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>skeleton<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  598</span> 
<span class='linenum'>  599</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Set</span>(</span>OL4=objects)
<span class='linenum'>  600</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>objects=branches)
<span class='linenum'>  601</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">ObjectFilter</span>(</span>area&gt;<span class="constant constant_numeric constant_numeric_c">10</span>)
<span class='linenum'>  602</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Set</span>(</span>OL7=objects)
<span class='linenum'>  603</span> 
<span class='linenum'>  604</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">ImageSubRegions</span>(</span>r4<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>, r4<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>,<span class="constant constant_numeric constant_numeric_c">4</span>)
<span class='linenum'>  605</span> 
<span class='linenum'>  606</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">And</span>(</span>Image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>, mask=OL7<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask.image</span>)
<span class='linenum'>  607</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">clearborders</span>(</span>image,<span class="constant constant_numeric constant_numeric_c">9</span>)
<span class='linenum'>  608</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">SetAttr</span>(</span>skeleton, stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  609</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcStat</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>quantile<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="constant constant_numeric constant_numeric_c">0.7</span>, stencil=skeleton, image=r4)
<span class='linenum'>  610</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">ThreshMask</span>(</span>stencil=skeleton,threshold=quantile,image=r4)
<span class='linenum'>  611</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcStat</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>median<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,stencil=threshmask, image=PlaneNumberImage)
<span class='linenum'>  612</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CarryObjects</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>, stencil=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded</span>, data=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.median</span>)
<span class='linenum'>  613</span> 
<span class='linenum'>  614</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">redimension</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span> + <span class="constant constant_numeric constant_numeric_c">2</span>, image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span> + <span class="constant constant_numeric constant_numeric_c">2</span>, <span class="constant constant_numeric constant_numeric_c">1</span>, <span class="constant constant_numeric constant_numeric_c">1</span>) 
<span class='linenum'>  615</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>image)
<span class='linenum'>  616</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">2</span>)
<span class='linenum'>  617</span> 
<span class='linenum'>  618</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>temp=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>)
<span class='linenum'>  619</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">crop</span>(</span><span class="constant constant_numeric constant_numeric_c">1</span>,<span class="constant constant_numeric constant_numeric_c">1</span>,temp<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>-<span class="constant constant_numeric constant_numeric_c">1</span>, temp<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>-<span class="constant constant_numeric constant_numeric_c">1</span>,image=temp)
<span class='linenum'>  620</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mean</span>(</span><span class="constant constant_numeric constant_numeric_c">31</span>,image=image)
<span class='linenum'>  621</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_PlaneNumber=Image)
<span class='linenum'>  622</span> 
<span class='linenum'>  623</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">delete</span>(</span>objects)
<span class='linenum'>  624</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>objects=OL7)
<span class='linenum'>  625</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcIntensity</span>(</span>body,image=r4)
<span class='linenum'>  626</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcstat</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>max<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,stencil=body,image=r4)
<span class='linenum'>  627</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcstat</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Quantile<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="constant constant_numeric constant_numeric_c">0.5</span>,stencil=body,image=r4)
<span class='linenum'>  628</span> 
<span class='linenum'>  629</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Threshmask</span>(</span>threshold=quantile,stencil=body,image=r4)
<span class='linenum'>  630</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcintensity</span>(</span>Threshmask,image=r4)
<span class='linenum'>  631</span> 
<span class='linenum'>  632</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcstat</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>median<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,stencil=body,attrname=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>planeNumberMean<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, image=PlaneNumberImage)
<span class='linenum'>  633</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">3</span>)
<span class='linenum'>  634</span> 
<span class='linenum'>  635</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CarryObjects</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>, stencil=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded</span>, data=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.max</span>)
<span class='linenum'>  636</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_intensity=Image)
<span class='linenum'>  637</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">maximums</span>(</span><span class="constant constant_numeric constant_numeric_c">20</span>, mask=M_bright3<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,image=r4)
<span class='linenum'>  638</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>max1=maximums)
<span class='linenum'>  639</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">maximums</span>(</span><span class="constant constant_numeric constant_numeric_c">70</span>, mask=M_bright3<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,image=r4)
<span class='linenum'>  640</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>max2=maximums)
<span class='linenum'>  641</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">or</span>(</span>image=max1<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.mask.image</span>,mask=max2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.mask.image</span>)
<span class='linenum'>  642</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>,mask=image)
<span class='linenum'>  643</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>max1,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  644</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>max1)
<span class='linenum'>  645</span> 
<span class='linenum'>  646</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>max1_area&gt;<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  647</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">100</span>,eroded,numberofsteps=<span class="constant constant_numeric constant_numeric_c">20</span>)
<span class='linenum'>  648</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CarryObjects</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>, stencil=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded_eroded</span>, data=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.planeNumberMean</span>)
<span class='linenum'>  649</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>IM_intensity2=Image)
<span class='linenum'>  650</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>CarryObjects(image=objects.eroded.image, stencil=objects.eroded_eroded, data=objects.max)
</span><span class='linenum'>  651</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>set(IM_max=Image)
</span><span class='linenum'>  652</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>CarryObjects(image=objects.eroded_eroded.image, stencil=objects.eroded_eroded, data=objects.planeNumberMean)
</span><span class='linenum'>  653</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>set(IM_planeNumberMean=Image)
</span><span class='linenum'>  654</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>OL5=objects)
<span class='linenum'>  655</span> 
<span class='linenum'>  656</span> 
<span class='linenum'>  657</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>,mask=max2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.mask.image</span>)
<span class='linenum'>  658</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>max2,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  659</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>max2)
<span class='linenum'>  660</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>max2_area&gt;<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  661</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">10</span>,max2,restrictivestencil=M_bright3,numberofsteps=<span class="constant constant_numeric constant_numeric_c">2</span>)
<span class='linenum'>  662</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.max2_eroded.image</span>,mask=skeleton<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.skeleton.mask.image</span>)
<span class='linenum'>  663</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>skeleton1,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  664</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcintensity</span>(</span>skeleton1,image=PlaneNumberImage)
<span class='linenum'>  665</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>planenumber,<span class="support support_function support_function_C99 support_function_C99_c">round</span>(skeleton1_intensity))
<span class='linenum'>  666</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">100</span>,max2_eroded,restrictivestencil=M_bright3,numberofsteps=<span class="constant constant_numeric constant_numeric_c">20</span>)
<span class='linenum'>  667</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">200</span>,max2_eroded_eroded,numberofsteps=<span class="constant constant_numeric constant_numeric_c">20</span>)
<span class='linenum'>  668</span> 
<span class='linenum'>  669</span> 
<span class='linenum'>  670</span> 
<span class='linenum'>  671</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>i=FirstZplane, i2=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  672</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span>FirstZplane.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.LastZplane</span>)
<span class='linenum'>  673</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>threshold2=i2+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  674</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">minus</span>(</span>threshold2,IM_planeNumber,neg_method=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>abs<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,result_type=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>unsigned,short<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  675</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">mask</span>(</span>threshold=<span class="constant constant_numeric constant_numeric_c">8</span>,image=result)
<span class='linenum'>  676</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=DataCube[i2],mask=mask<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  677</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>DataCube[i2]=image)
<span class='linenum'>  678</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>i2=i2+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  679</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  680</span> 
<span class='linenum'>  681</span> }</span></span>
<span class='linenum'>  682</span> 
<span class='linenum'>  683</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>puts a maximum on the number of objects that may be detected to fit in with available data structures.
</span><span class='linenum'>  684</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">ReduceStencilObjectsByAreaTo31999_MPIZ</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  685</span> stencil stencil inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output stencil, which object number will be reduced to fit the limit 31999. Only the first 31999 objects are taken into account and the others are discarded.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>
<span class='linenum'>  686</span> )</span> [hidden]
<span class='linenum'>  687</span> 
<span class='linenum'>  688</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  689</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>alimit=<span class="constant constant_numeric constant_numeric_c">32000</span>)
<span class='linenum'>  690</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>alimit2=alimit-<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  691</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>WarningFilter(disable=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>[Mask2Stencil]<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  692</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Removes_OnePixel_Objects</span>(</span>stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector.MASK</span>)
<span class='linenum'>  693</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>)
<span class='linenum'>  694</span>   <span class="keyword keyword_control keyword_control_c">if</span>(stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.itemcount</span>&lt;alimit)
<span class='linenum'>  695</span>     <span class="keyword keyword_control keyword_control_c">return</span>()
<span class='linenum'>  696</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  697</span>   
<span class='linenum'>  698</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>mask_in=mask)
<span class='linenum'>  699</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>temp=stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector.mask.image</span>)
<span class='linenum'>  700</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">blank</span>(</span>temp<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>, temp<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>)
<span class='linenum'>  701</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">convelems</span>(</span>image, <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>integer<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, <span class="constant constant_numeric constant_numeric_c">2</span>,<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>unsigned<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  702</span>   
<span class='linenum'>  703</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">append</span>(</span>bvector,<span class="constant constant_numeric constant_numeric_c">1</span>.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.alimit2</span>)
<span class='linenum'>  704</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>avector=bvector)
<span class='linenum'>  705</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>stencil_in=stencil)
<span class='linenum'>  706</span>   <span class="keyword keyword_control keyword_control_c">while</span>(stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.itemcount</span>&gt;alimit2)
<span class='linenum'>  707</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>stencil2=stencil)
<span class='linenum'>  708</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">create</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>vector<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>unsigned,int<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.itemcount</span>-alimit2,<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  709</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">append</span>(</span>avector,vector)
<span class='linenum'>  710</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">carryobjects</span>(</span>image=result,stencil=stencil,data=avector)
<span class='linenum'>  711</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.type</span>=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>stencil<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  712</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>stencil=image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  713</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  714</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  715</span>     <span class="keyword keyword_control keyword_control_c">if</span>(<span class="meta meta_function-call meta_function-call_c"><span class="support support_function support_function_any-method support_function_any-method_c">defined</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>v_area<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>))
<span class='linenum'>  716</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">append</span>(</span>v_area,objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.area</span>)
<span class='linenum'>  717</span>     <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  718</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>v_area=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.area</span>)
<span class='linenum'>  719</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  720</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">push</span>(</span>v_objects,objects)
<span class='linenum'>  721</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=stencil2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.image</span>,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.mask</span>, data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  722</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector.mask</span>)
<span class='linenum'>  723</span>     
<span class='linenum'>  724</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  725</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  726</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  727</span> 
<span class='linenum'>  728</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">append</span>(</span>v_area,objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.area</span>)
<span class='linenum'>  729</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">sort</span>(</span>v_area,yes)
<span class='linenum'>  730</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>minarea=result[alimit2]+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  731</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&lt;minarea)
<span class='linenum'>  732</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=mask_in,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  733</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span>v_objects)
<span class='linenum'>  734</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>objects=i)
<span class='linenum'>  735</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&lt;minarea)
<span class='linenum'>  736</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=image,mask=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>,data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  737</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  738</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>image)
<span class='linenum'>  739</span>   <span class="keyword keyword_control keyword_control_c">if</span>(stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.itemcount</span>&gt;<span class="constant constant_numeric constant_numeric_c">31999</span>)
<span class='linenum'>  740</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">ReduceStencilObjectsTo31999_tech</span>(</span>)
<span class='linenum'>  741</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>) 
<span class='linenum'>  742</span> }</span></span>
<span class='linenum'>  743</span> 
<span class='linenum'>  744</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">CreateDataCubeWithControl</span><span class="meta meta_parens meta_parens_c">( 
<span class='linenum'>  745</span> table sourcedata inout,
<span class='linenum'>  746</span> <span class="storage storage_type storage_type_c">int</span> FirstZPlane in, 
<span class='linenum'>  747</span> <span class="storage storage_type storage_type_c">int</span> LastZPlane in,
<span class='linenum'>  748</span> <span class="storage storage_type storage_type_c">int</span> MinStdDev in,
<span class='linenum'>  749</span> DataCube DataCube out,
<span class='linenum'>  750</span> <span class="storage storage_type storage_type_c">int</span> newFirstZplane out,
<span class='linenum'>  751</span> <span class="storage storage_type storage_type_c">int</span> newLastZplane out
<span class='linenum'>  752</span> )</span>
<span class='linenum'>  753</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  754</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> Zplane = FirstZplane )
<span class='linenum'>  755</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>//// Creates a datacube
</span><span class='linenum'>  756</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>CubeDepth=LastZplane-FirstZplane+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  757</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">create</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>datacube<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.SourceImage</span>[<span class="constant constant_numeric constant_numeric_c">0</span>]<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.width</span>,sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sourceImage</span>[<span class="constant constant_numeric constant_numeric_c">0</span>]<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.height</span>,CubeDepth, <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>unsigned short<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  758</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>FirstZplane_in=FirstZplane, LastZplane_in=LastZplane)
<span class='linenum'>  759</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>i=FirstZplane, i2=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  760</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> find new FirstZplane and LastZplane discarding featureless images:
</span><span class='linenum'>  761</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> is_empty=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>true<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  762</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> newFirstZplane = FirstZplane)
<span class='linenum'>  763</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span>FirstZplane.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.LastZplane</span>)
<span class='linenum'>  764</span>     <span class="keyword keyword_control keyword_control_c">if</span>( sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sourceImage</span>[i-<span class="constant constant_numeric constant_numeric_c">1</span>]<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stddev</span> &lt; MinStdDev )
<span class='linenum'>  765</span>       <span class="keyword keyword_control keyword_control_c">if</span>( is_empty == <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>true<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  766</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> newFirstZplane = i )
<span class='linenum'>  767</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  768</span>     <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  769</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> is_empty= <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>false<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> )
<span class='linenum'>  770</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  771</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  772</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> is_empty=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>true<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  773</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> i=LastZplane)
<span class='linenum'>  774</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> newLastZplane = LastZplane)
<span class='linenum'>  775</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span>LastZplane.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.FirstZplane</span>)
<span class='linenum'>  776</span>     <span class="keyword keyword_control keyword_control_c">if</span>( sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sourceImage</span>[i-<span class="constant constant_numeric constant_numeric_c">1</span>]<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.stddev</span> &lt; MinStdDev )
<span class='linenum'>  777</span>       <span class="keyword keyword_control keyword_control_c">if</span>( is_empty == <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>true<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  778</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">        </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> newLastZplane = i )
<span class='linenum'>  779</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  780</span>     <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  781</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> is_empty= <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>false<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> )
<span class='linenum'>  782</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  783</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  784</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> FirstZplane = newFirstZplane)
<span class='linenum'>  785</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span> LastZplane = newLastZplane)
<span class='linenum'>  786</span>   
<span class='linenum'>  787</span>   <span class="keyword keyword_control keyword_control_c">if</span>( LastZplane &lt;FirstZplane )
<span class='linenum'>  788</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>LastZPlane=FirstZPlane)
<span class='linenum'>  789</span>     <span class="keyword keyword_control keyword_control_c">return</span>()
<span class='linenum'>  790</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  791</span> 
<span class='linenum'>  792</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>i=FirstZplane, i2=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  793</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span>FirstZplane.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.LastZplane</span>)
<span class='linenum'>  794</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>datacube[i2]=sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sourceImage</span>[i-<span class="constant constant_numeric constant_numeric_c">1</span>])
<span class='linenum'>  795</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>i2=i2+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  796</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  797</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">foreach</span>(</span>FirstZplane_in.<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.LastZplane_in</span>)
<span class='linenum'>  798</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">delete</span>(</span>sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sourceImage</span>[i-<span class="constant constant_numeric constant_numeric_c">1</span>])
<span class='linenum'>  799</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  800</span> }</span></span>
<span class='linenum'>  801</span> 
<span class='linenum'>  802</span> 
<span class='linenum'>  803</span> 
<span class='linenum'>  804</span> 
<span class='linenum'>  805</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> removes objects from list
</span><span class='linenum'>  806</span> 
<span class='linenum'>  807</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">DetectType2Objects</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  808</span>   image image1 in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input image with intensity information<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  809</span>   objectlist Lines in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input list of line structure<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  810</span>   objectlist LeafCells inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output list of cells. In output list regions, which belong to type2 objects are erased.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  811</span>   <span class="storage storage_type storage_type_c">bool</span> showillustrations=yes in,
<span class='linenum'>  812</span>   objectlist ObjectsType2 out <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>List of detected type objects<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>
<span class='linenum'>  813</span> )</span>
<span class='linenum'>  814</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  815</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>////////////////////////////////////////////////// Finds Type2 objects
</span><span class='linenum'>  816</span>   
<span class='linenum'>  817</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>Lines<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sk_mod</span>)
<span class='linenum'>  818</span>   
<span class='linenum'>  819</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">FillSmallHoles</span>(</span>minimumholearea=<span class="constant constant_numeric constant_numeric_c">1000</span>)
<span class='linenum'>  820</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  821</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>filled)
<span class='linenum'>  822</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">mask2stencil</span>(</span>objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.filled.mask</span>)
<span class='linenum'>  823</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>)
<span class='linenum'>  824</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcarea</span>(</span>)
<span class='linenum'>  825</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>area&gt;<span class="constant constant_numeric constant_numeric_c">150</span>)
<span class='linenum'>  826</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcerosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  827</span>   
<span class='linenum'>  828</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">and</span>(</span>image=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded.image</span>, mask=lines<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.sk_mod.mask.image</span>)
<span class='linenum'>  829</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>border_corrected,image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  830</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">calcintensity</span>(</span>border_corrected,image=image1)
<span class='linenum'>  831</span>   
<span class='linenum'>  832</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">objectfilter</span>(</span>border_corrected_intensity&gt;<span class="constant constant_numeric constant_numeric_c">1000</span>)
<span class='linenum'>  833</span> 
<span class='linenum'>  834</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Dark_Mask</span>(</span>image1, <span class="constant constant_numeric constant_numeric_c">7</span>)
<span class='linenum'>  835</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcErosion</span>(</span>-<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  836</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Stencil2Objects</span>(</span>Objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.eroded</span>)
<span class='linenum'>  837</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcintensity</span>(</span>image=result)
<span class='linenum'>  838</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>DarkSig=intensity)
<span class='linenum'>  839</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcintensity</span>(</span>image=image1)
<span class='linenum'>  840</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>RelDarkSig,(<span class="constant constant_numeric constant_numeric_c">1.0</span>*DarkSig)/(intensity))
<span class='linenum'>  841</span>   
<span class='linenum'>  842</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcIntensity</span>(</span>border,image=image1)
<span class='linenum'>  843</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calczone</span>(</span>-<span class="constant constant_numeric constant_numeric_c">3</span>,zonetype=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>equidistant<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  844</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">zonemask</span>(</span>-<span class="constant constant_numeric constant_numeric_c">3</span>,<span class="constant constant_numeric constant_numeric_c">3</span>)
<span class='linenum'>  845</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">renameattr</span>(</span>BorderRegion=zonemask)
<span class='linenum'>  846</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Zonemask</span>(</span><span class="constant constant_numeric constant_numeric_c">3</span>,oo)
<span class='linenum'>  847</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Renameattr</span>(</span>InnerRegion=Zonemask)
<span class='linenum'>  848</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcintensity</span>(</span>InnerRegion,image=image1)
<span class='linenum'>  849</span>   
<span class='linenum'>  850</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Calcintensity</span>(</span>BorderRegion,image=image1)
<span class='linenum'>  851</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>Inner2BorderRatio, InnerRegion_intensity/Border_intensity)
<span class='linenum'>  852</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>Border2BorderRatio, BorderRegion_intensity/Border_intensity)
<span class='linenum'>  853</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Zonemask</span>(</span><span class="constant constant_numeric constant_numeric_c">4</span>, <span class="constant constant_numeric constant_numeric_c">5</span>)
<span class='linenum'>  854</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Renameattr</span>(</span>Region4=Zonemask)
<span class='linenum'>  855</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcIntensity</span>(</span>Region4, image=image1)
<span class='linenum'>  856</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Mean</span>(</span><span class="constant constant_numeric constant_numeric_c">5</span>,image=image1)
<span class='linenum'>  857</span>   
<span class='linenum'>  858</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcStat</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Min<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,AttrName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>MinIntensity<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>, stencil=InnerRegion,image=image)
<span class='linenum'>  859</span> 
<span class='linenum'>  860</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>MinToRegion4Ratio, (<span class="constant constant_numeric constant_numeric_c">1.0</span>*MinIntensity)/Region4_intensity)
<span class='linenum'>  861</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>MinToBorderRatio, (<span class="constant constant_numeric constant_numeric_c">1.0</span>*MinIntensity)/Border_intensity)
<span class='linenum'>  862</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcAttr</span>(</span>DarkToRegion4, (<span class="constant constant_numeric constant_numeric_c">1.0</span>*DarkSig)/Region4_intensity)
<span class='linenum'>  863</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">CalcArea</span>(</span>)
<span class='linenum'>  864</span> 
<span class='linenum'>  865</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">deleteattr</span>(</span>zone,outerzone)
<span class='linenum'>  866</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ObjectsType2=objects)
<span class='linenum'>  867</span> 
<span class='linenum'>  868</span>   
<span class='linenum'>  869</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>/// End of finds Type2 objects
</span><span class='linenum'>  870</span>   
<span class='linenum'>  871</span>   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>/// Removes from list of cells Type2 objects
</span><span class='linenum'>  872</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">carrypixels</span>(</span>image=LeafCells<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body.image</span>,mask=ObjectsType2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>, data=<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  873</span> 
<span class='linenum'>  874</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>image<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.vector</span>)
<span class='linenum'>  875</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>LeafCells=objects)
<span class='linenum'>  876</span> }</span></span> 
<span class='linenum'>  877</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> Fills in stencil objects
</span><span class='linenum'>  878</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">CalcFillStencil_MPIZ</span><span class="meta meta_parens meta_parens_c">(
<span class='linenum'>  879</span>   string StencilName=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>body<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> noquote in <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Name of the stencil type attribute in the input object list, which will be filled. Only short attribute names are supported: StencilName=body is correct whereas centers=Objects.Body is erroneous. The attribute name can be given with and without the quotation marks, i.e. both are correct: StencilName=body and StencilName=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>body<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>,
<span class='linenum'>  880</span>   objectlist objects inout <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input-output object list. The output list includes a new stencil type attribute, which corresponds to the created objects. A number of objects is equal to a number of the initial centers. In case of body stencil (StencilName=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>body<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>) the added attribute has the name <span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>Filled<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span> otherwise <span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>StencilName_Filled<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>. For example, if StencilName=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>BrightMask<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span> the attribute name is <span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>BrightMask_Filled.<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> 
<span class='linenum'>  881</span> )</span> object list attribute creation "Fills the gaps <span class="meta meta_parens meta_parens_c">(holes)</span> in the geometrical regions given by a stencil type attribute. The output object list includes a new stencil, which corresponds to the \"filled regions\". See also the module FillObjects<span class="meta meta_parens meta_parens_c">()</span>, which performs exactly the same operation. The difference is that CalcFillStencil_MPIZ<span class="meta meta_parens meta_parens_c">()</span> can be applied to all stencil type attributes while FillObjects<span class="meta meta_parens meta_parens_c">()</span> only to the body one."
<span class='linenum'>  882</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  883</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>objects_in=objects)
<span class='linenum'>  884</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(Stencil=objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; StencilName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  885</span>   <span class="keyword keyword_control keyword_control_c">if</span>(errorcode==<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  886</span>     <span class="keyword keyword_control keyword_control_c">if</span>(Stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.class</span>!=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>intervalvector<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  887</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input StencilName does not correspond to the stencil-type attribute. The input StencilName must specify the stencil type attribute in the input object list, which defines the centers positions. Only short attribute names are supported: centers=body is correct whereras centers=Nuclei.Body is erroneous. The attribute name can be given with and without the quatation marks, both are correct: centers=body and centers=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>body<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>. It is assumed that the centers approximately correspond to the local intensity maximums (maximum regions) or to minimums (minimum regions).<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  888</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  889</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  890</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">FindShortAttrNameFromLongName</span>(</span>StencilName)
<span class='linenum'>  891</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>set(Stencil=objects.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; ShortAttrName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  892</span>     <span class="keyword keyword_control keyword_control_c">if</span>(errorcode==<span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  893</span>       <span class="keyword keyword_control keyword_control_c">if</span>(Stencil<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.class</span>==<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>intervalvector<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  894</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">          </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Input StencilName does not correspond to the attribute in the input object list. Probably, a long attribute name was used instead of a short one. Only short attribute names are supported: StencilName=body is correct whereras StencilName=Objects.Body is erroneous. The attribute name can be given with and without the quatation marks, both are correct: StencilName=body and StencilName=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>body<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>. It is assumed that the centers approximately correspond to the local intensity maximums (maximum regions) or to minimums (minimum regions).<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  895</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  896</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  897</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>The input StencilName does not correspond to the existing stencil type attribute in the input object list. The input StencilName must specify the stencil type attribute in the input object list.. Only short attribute names are supported: StencilName=body is correct whereras StencilName=Objects.Body is erroneous. The attribute name can be given with and without the quatation marks, both are correct: StencilName=body and StencilName=<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>body<span class="constant constant_character constant_character_escape constant_character_escape_c">\"</span>.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  898</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  899</span>   
<span class='linenum'>  900</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>stencil)
<span class='linenum'>  901</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">Fillobjects</span>(</span>)
<span class='linenum'>  902</span>   <span class="keyword keyword_control keyword_control_c">if</span>(objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.count</span>!=objects_in<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.count</span>)
<span class='linenum'>  903</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>st_temp=objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>)
<span class='linenum'>  904</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">FillStencilfromCenter_tech</span>(</span>objects_in<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>,objects<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>)
<span class='linenum'>  905</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">stencil2objects</span>(</span>stencil)
<span class='linenum'>  906</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  907</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ob2=objects)
<span class='linenum'>  908</span>   <span class="keyword keyword_control keyword_control_c">if</span>(StencilName==<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>body<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  909</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>Filled,ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.body</span>,objects=objects_in)
<span class='linenum'>  910</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">setattr</span>(</span>Filled_border,ob2<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.border</span>)
<span class='linenum'>  911</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  912</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>temp=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; StencilName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_Filled,ob2.body,objects=objects_in)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  913</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; temp )
<span class='linenum'>  914</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>temp=<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; StencilName &amp; <span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>_Filled_border,ob2.border)<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  915</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">eval</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>setattr(<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span> &amp; temp )
<span class='linenum'>  916</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  917</span> }</span></span>
<span class='linenum'>  918</span> 
<span class='linenum'>  919</span> 
<span class='linenum'>  920</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> Counts fields and controls if all images are present
</span><span class='linenum'>  921</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">ControlImageFieldsStackAC2</span><span class="meta meta_parens meta_parens_c">(Table sourcedata in, <span class="storage storage_type storage_type_c">int</span> NumberOfChannels in, <span class="storage storage_type storage_type_c">int</span> ZplanesInStack in, <span class="storage storage_type storage_type_c">int</span> StackNo in, <span class="storage storage_type storage_type_c">int</span> StackCount out, <span class="storage storage_type storage_type_c">int</span> StartStack out, <span class="storage storage_type storage_type_c">int</span> EndStack out, <span class="storage storage_type storage_type_c">int</span> ImagesINOneStack out, <span class="storage storage_type storage_type_c">int</span> InvalidStacks out)</span>
<span class='linenum'>  922</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  923</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>ImagesINOneStack=NumberOfChannels*ZplanesInStack)    <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>calculates number of images per stack
</span><span class='linenum'>  924</span>   <span class="keyword keyword_control keyword_control_c">if</span>(ImagesINOneStack&lt;<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  925</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Number of channels or number of images in stack is not a positive number. Please select a number larger than 0.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  926</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  927</span> 
<span class='linenum'>  928</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>ImageCount = sourcedata<span class="variable variable_other variable_other_dot-access variable_other_dot-access_c">.rowcount</span>)    <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> determine the number of images present
</span><span class='linenum'>  929</span>   
<span class='linenum'>  930</span> 
<span class='linenum'>  931</span>   <span class="keyword keyword_control keyword_control_c">if</span><span class="meta meta_initialization meta_initialization_c"> <span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_c">(</span></span>(ImageCount ~ ImagesINOneStack) != <span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  932</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Number of images (<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>&amp;ImageCount&amp;<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>) is not a multiple of the number of images per stack (<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>&amp;ImagesINOneStack&amp;<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>).<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  933</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  934</span> 
<span class='linenum'>  935</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>StackCount =<span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c"> </span><span class="support support_function support_function_any-method support_function_any-method_c">int</span>(</span>ImageCount / ImagesINOneStack))
<span class='linenum'>  936</span> 
<span class='linenum'>  937</span>   <span class="keyword keyword_control keyword_control_c">if</span><span class="meta meta_initialization meta_initialization_c"> <span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_c">(</span></span>StackCount == <span class="constant constant_numeric constant_numeric_c">0</span>)
<span class='linenum'>  938</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>No sufficient number of images found in the data file. Only <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>&amp;StackCount&amp;<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> images found, but <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>&amp;ImagesINOneStack&amp;<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> needed for a stack.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  939</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  940</span> 
<span class='linenum'>  941</span>   <span class="keyword keyword_control keyword_control_c">if</span><span class="meta meta_initialization meta_initialization_c"> <span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_c">(</span></span>StackNo == <span class="constant constant_numeric constant_numeric_c">0</span>)   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span> all images present are analysed
</span><span class='linenum'>  942</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>StartStack = <span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  943</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>EndStack = StackCount)
<span class='linenum'>  944</span>   <span class="keyword keyword_control keyword_control_c">else</span>()
<span class='linenum'>  945</span>     <span class="keyword keyword_control keyword_control_c">if</span><span class="meta meta_initialization meta_initialization_c"> <span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_c">(</span></span>StackNo &gt; StackCount)       <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>/ Error message if too high Image Field number was chosen
</span><span class='linenum'>  946</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Please select a smaller field number. There are only <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>&amp;StackCount&amp;<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span> stacks in the file, but you selected to analyse stack <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>&amp;StackNo&amp;<span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>. <span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  947</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  948</span>     <span class="keyword keyword_control keyword_control_c">if</span><span class="meta meta_initialization meta_initialization_c"> <span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_c">(</span></span>StackNo &lt; <span class="constant constant_numeric constant_numeric_c">0</span>)   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>//Error message if negative Image Field number was chosen
</span><span class='linenum'>  949</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">      </span><span class="support support_function support_function_any-method support_function_any-method_c">error</span>(</span><span class="string string_quoted string_quoted_double string_quoted_double_c"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_c">"</span>Please select a positive stack number.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_c">"</span></span>)
<span class='linenum'>  950</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  951</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>StartStack = StackNo)
<span class='linenum'>  952</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>EndStack = StackNo)
<span class='linenum'>  953</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">    </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span> (</span>StackCount=<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  954</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">end</span>(</span>)
<span class='linenum'>  955</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>InvalidStacks=<span class="constant constant_numeric constant_numeric_c">0</span>)   <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>variable for counting of invalid black image fields
</span><span class='linenum'>  956</span> }</span></span>
<span class='linenum'>  957</span> 
<span class='linenum'>  958</span> <span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_c">//</span>Assigns image names for the current field
</span><span class='linenum'>  959</span> proc<span class="meta meta_function meta_function_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function punctuation_whitespace_function_leading punctuation_whitespace_function_leading_c"> </span><span class="entity entity_name entity_name_function entity_name_function_c">Assign_FirstLastZplane</span><span class="meta meta_parens meta_parens_c">(Table sourcedata in, <span class="storage storage_type storage_type_c">int</span> _StackCounter in, <span class="storage storage_type storage_type_c">int</span> ImagesINOneStack in, <span class="storage storage_type storage_type_c">int</span> NumberOfChannels in, <span class="storage storage_type storage_type_c">int</span> FirstZplane out , <span class="storage storage_type storage_type_c">int</span> LastZplane out)</span>
<span class='linenum'>  960</span> <span class="meta meta_block meta_block_c">{
<span class='linenum'>  961</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>FirstZplane=(_StackCounter-<span class="constant constant_numeric constant_numeric_c">1</span>)*ImagesINOneStack+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  962</span> <span class="meta meta_function-call meta_function-call_c"><span class="punctuation punctuation_whitespace punctuation_whitespace_function-call punctuation_whitespace_function-call_leading punctuation_whitespace_function-call_leading_c">  </span><span class="support support_function support_function_any-method support_function_any-method_c">set</span>(</span>LastZplane=(_StackCounter)*ImagesINOneStack-NumberOfChannels+<span class="constant constant_numeric constant_numeric_c">1</span>)
<span class='linenum'>  963</span> }</span></span>
<span class='linenum'>  964</span> 
</span><span class='linenum'>  965</span> </pre>
</body>
</html>